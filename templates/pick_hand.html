{% extends 'base.html' %}

{% block title %}
Pick a Hand
{% endblock %}

{% block content %}
<h1>Pick a hand to analyze</h1>
<h2>Selected cards</h2>
<img src="static/cards/blank_card.png" height=200px, id="1">
<img src="static/cards/blank_card.png" height=200px, id="2">
<img src="static/cards/blank_card.png" height=200px, id="3">
<img src="static/cards/blank_card.png" height=200px, id="4">
<img src="static/cards/blank_card.png" height=200px, id="5">
<h3><a href="#" id="6" style="display: none">Analyze this hand</a></h3>
<hr>

{% for suit in suits %}
  {% for rank in ranks %}
    <img src="static/cards/{{ rank }}{{ suit }}.png" height="100px" onClick="card_click(this.id)" id="{{ rank }}{{ suit }}">
  {% endfor %}
  <br>
{% endfor %}

<script type="text/javascript">
var click_count = 0;
var link_string = "/";
var clicked_cards = [];

function card_click(clicked_id)
{
  if (!clicked_cards.includes(clicked_id)) {
    clicked_cards.push(clicked_id);
    click_count++;
    src_string="static/cards/" + clicked_id + ".png";
    link_string = link_string + clicked_id;
    if (click_count < 5) {
      link_string = link_string + "-";
    }

    document.getElementById(click_count).src=src_string;
    document.getElementById(clicked_id).src="static/cards/blank_card.png";

    if (click_count < 5) {
      document.getElementById("6").style.display = "none";
    } else {
      document.getElementById("6").style.display = "inline";
    }
    document.getElementById("6").href = link_string;
  }
}
</script>

{% endblock %}
